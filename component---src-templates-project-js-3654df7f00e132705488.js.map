{"version":3,"sources":["webpack:///./src/templates/project.js"],"names":["getRandom","arr","n","result","Array","len","length","taken","x","Math","floor","random","Container","styled","div","withConfig","displayName","componentId","spacing","bigger","Content","smaller","medium","breakpoints","tablet","HeroImage","Img","ProjectHeader","small","ProjectInfo","GraduateName","Categories","ContentContainer","InfoContainer","Info","normal","RelatedProjects","mobile","ProjectContainer","ImageContainer","TextContainer","Text","p","BottomSection","RelatedText","big","Post","_ref","data","project","markdownRemark","grad","frontmatter","graduate","react__WEBPACK_IMPORTED_MODULE_3___default","a","createElement","react_helmet__WEBPACK_IMPORTED_MODULE_4___default","title","toUpperCase","gatsby__WEBPACK_IMPORTED_MODULE_6__","to","replace","toLowerCase","category","category2","category3","sizes","image","childImageSharp","dangerouslySetInnerHTML","__html","html","projectByStudent","edges","map","_ref2","otherProj","node","fields","slug","gatsby_image__WEBPACK_IMPORTED_MODULE_7___default","slice","projectsInCategory","_ref3","projectsInSecondCategory","_ref4","aboutPageQuery"],"mappings":"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","file":"component---src-templates-project-js-3654df7f00e132705488.js","sourcesContent":["/* eslint-disable no-useless-escape */\n\nimport React from 'react';\nimport Helmet from 'react-helmet'\nimport styled from 'styled-components'\nimport { Link, graphql } from 'gatsby';\nimport Img from 'gatsby-image'\nimport { spacing, breakpoints } from '../utils/constants'\nimport 'intersection-observer'\n\nfunction getRandom(arr, n) {\n  var result = new Array(n),\n    len = arr.length,\n    taken = new Array(len);\n  if (n > len)\n    return arr;\n  while (n--) {\n    var x = Math.floor(Math.random() * len);\n    result[n] = arr[x in taken ? taken[x] : x];\n    taken[x] = --len in taken ? taken[len] : len;\n  }\n  return result;\n}\n\n// styled-components\nconst Container = styled.div`\n  padding-bottom: ${spacing.bigger-4}px;\n  overflow-x: hidden;\n`\n\nconst Content = styled.div`\n  padding-bottom: 5rem;\n\n  blockquote {\n    font-style: italic;\n    width: 100%;\n    margin: 0;\n\n    p {\n      line-height: 1.3;\n      font-size: 3rem;\n    }\n\n  }\n\n  p img {\n    max-width: 100%;\n  }\n\n  p {\n    font-size: calc(0.3vw + 1.3rem);\n    margin: 0;\n  }\n\n  img {\n    margin: auto;\n  }\n\n  sup {\n    font-size: 1.4rem;\n    vertical-align: super;\n    margin-left: 1rem;\n  }\n\n  h1 {\n    text-transform: uppercase;\n    font-size: 4.5rem;\n    line-height: 1.2;\n    font-weight: normal;\n    margin: ${spacing.bigger}px 0 ${spacing.smaller}px;\n  }\n\n  h2 {\n    text-transform: uppercase;\n    font-size: 3rem;\n    font-weight: normal;\n    margin-bottom: -${spacing.medium}px;\n  }\n\n  a {\n    text-decoration: underline;\n  }\n\n  .gatsby-resp-image-wrapper {\n    line-height: 0;\n    width: 150%;\n\n    max-width: none !important;\n    margin-left: -25% !important;\n  }\n\n  .gatsby-resp-image-background-image {\n    height: 0 !important;\n  }\n\n  .gatsby-resp-image-image {\n    height: auto !important;\n  }\n\n  @media screen and (max-width: ${breakpoints.tablet} ) {\n\n    .gatsby-resp-image-wrapper {\n      width: 100%;\n      margin-left: 0 !important;\n    }\n\n    h1 {\n      font-size: 3.5rem;\n    }\n\n    h2 {\n      font-size: 2.5rem;\n    }\n\n  }\n\n`\n\nconst HeroImage = styled(Img)`\n  height: 70vh;\n  border-bottom: 1px solid black;\n`\n\nconst ProjectHeader = styled.div `\n  padding: ${spacing.small}px;\n  width: 100%;\n  height: 30vh;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  border-bottom: 1px solid black;\n\n  h1 {\n    margin: 0;\n    line-height: 1;\n  }\n\n  h1, h3, h4, {\n    margin: 0;\n    line-height: 1;\n    vertical-align: bottom;\n  }\n\n  @media screen and (max-width: ${breakpoints.tablet} ) {\n\n    height: 100%;\n\n    h1 {\n      font-size: 3.5rem;\n      margin-bottom: 1rem;\n    }\n\n    justify-content: flex-start;\n  }\n\n`\n\nconst ProjectInfo = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: flex-end;\n\n  @media screen and (max-width: ${breakpoints.tablet} ) {\n    flex-direction: column;\n    justify-content: space-between;\n    height: 100%;\n  }\n`\n\nconst GraduateName = styled.div`\n  width: 100%;\n  flex: 1;\n`\n\nconst Categories = styled.div `\n  display: flex;\n  justify-content: flex-end;\n  width: 100%;\n  flex: 2;\n\n  h4 {\n    margin-left:${spacing.medium}px;\n  }\n\n  @media screen and (max-width: ${breakpoints.tablet} ) {\n    &:not(:first-child) {\n      display: none;\n    }\n  }\n\n`\n\nconst ContentContainer = styled.div`\n\n`\n\nconst InfoContainer = styled.div `\n    width: 100%;\n\n    @media screen and (max-width: ${breakpoints.tablet} ) {\n      width: 100%;\n    }\n`\n\nconst Info = styled.div `\n  max-width: 800px;\n  width: 75%;\n\n  margin: ${spacing.bigger}px auto;\n  padding: ${spacing.smaller}px;\n  white-space: pre-wrap;\n\n  @media screen and (max-width: ${breakpoints.tablet} ) {\n    width: calc(100% - ${spacing.normal}px);\n  }\n`\n\nconst RelatedProjects = styled.div `\n  display: flex;\n\n  @media screen and (max-width: ${breakpoints.tablet} ) {\n    flex-wrap: wrap;\n  }\n\n  @media screen and (max-width: ${breakpoints.mobile} ) {\n    display: block;\n  }\n`\n\nconst ProjectContainer = styled.div `\n  border-left: 1px solid;\n  margin-left: -1px;\n  flex: 1;\n\n  @media screen and (max-width: ${breakpoints.tablet} ) {\n    &:last-child {\n      display: none;\n    }\n  }\n\n  @media screen and (max-width: ${breakpoints.mobile} ) {\n    ${'' /* width: 100%; */}\n    border-bottom: 1px solid black;\n\n    &:last-child {\n      display: block;\n    }\n  }\n\n`\n\nconst ImageContainer = styled.div `\n  width: 100%;\n  padding: 15%;\n\n`\n\nconst TextContainer = styled.div `\n  display: flex;\n  padding: 0 ${spacing.small}px ${spacing.small}px ;\n\n  justify-content: space-between;\n  align-items: flex-end;\n`\n\nconst Text = styled.p`\n  z-index: 4;\n  color: black;\n  max-width: 400px;\n\n  margin: 0.4rem;\n  font-size: 1.4rem;\n  line-height: 1.2;\n  width: 100%;\n\n&:first-of-type {\n  text-transform: uppercase;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  overflow: hidden;\n  flex: 1;\n}\n\n&:last-of-type {\n  flex: 2;\n  text-align: right;\n}\n`\n\nconst BottomSection = styled.div`\n\n`;\n\nconst RelatedText = styled.div`\n  height: 130px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  border-top: 1px solid black;\n  border-bottom: 1px solid black;\n  line-height: 1.3;\n\n  h3, h4 {\n    max-width: calc(100% - ${spacing.big}px);\n    text-align: center;\n    text-transform: none;\n  }\n\n  @media screen and (max-width: ${breakpoints.mobile} ) {\n    h3 {\n      font-size: 2.2rem;\n    }\n  }\n`;\n\n\n// page template component\nexport default function Post({ data }) {\n  const project = data.markdownRemark;\n  const grad = project.frontmatter.graduate;\n\n  return (\n    <Container>\n\n      <Helmet title={`THE NEXT | ${project.frontmatter.title.toUpperCase()}`} />\n\n      <ProjectHeader>\n\n        <h1>{project.frontmatter.title}</h1>\n\n        <ProjectInfo>\n          <GraduateName>\n            <Link to={`/graduates/${grad.replace(/[^0-9a-zA-Z\\s'\\-]+/g, \"\").replace(/[\\'\\s]+/g, \"-\").toLowerCase()}/`}>\n              <h4>{grad}</h4>\n            </Link>\n          </GraduateName>\n\n          <Categories>\n            {project.frontmatter.category && (\n              <h4>{project.frontmatter.category}</h4>\n            )}\n\n            {project.frontmatter.category2 && (\n              <h4>{project.frontmatter.category2}</h4>\n            )}\n\n            {project.frontmatter.category3 && (\n              <h4>{project.frontmatter.category3}</h4>\n            )}\n          </Categories>\n        </ProjectInfo>\n\n\n      </ProjectHeader>\n\n      <HeroImage sizes={project.frontmatter.image.childImageSharp.sizes}/>\n\n      <ContentContainer>\n        <InfoContainer>\n          <Info>\n              <Content dangerouslySetInnerHTML={{ __html: project.html }}/>\n          </Info>\n        </InfoContainer>\n      </ContentContainer>\n\n      <BottomSection>\n\n        <RelatedText>\n          <h3>See more work like {project.frontmatter.title}</h3>\n        </RelatedText>\n\n        <RelatedProjects>\n\n          {data.projectByStudent && getRandom(data.projectByStudent.edges, 1).map(({ node: otherProj }) =>\n\n            <ProjectContainer>\n              <Link to={otherProj.fields.slug}>\n\n                <ImageContainer>\n                  <Img sizes={otherProj.frontmatter.image.childImageSharp.sizes} />\n                </ImageContainer>\n\n                <TextContainer>\n                  <Text>{otherProj.frontmatter.title.length > 15 ? (otherProj.frontmatter.title.slice(0, 15) + \"…\") : otherProj.frontmatter.title}</Text>\n                  <Text>{otherProj.frontmatter.graduate}</Text>\n                </TextContainer>\n\n              </Link>\n            </ProjectContainer>\n\n          )}\n\n          {data.projectsInCategory ? (getRandom(data.projectsInCategory.edges, 2).map(({ node: otherProj }) =>\n            <ProjectContainer>\n              <Link to={otherProj.fields.slug}>\n\n                <ImageContainer>\n                  <Img sizes={otherProj.frontmatter.image.childImageSharp.sizes} />\n                </ImageContainer>\n\n                <TextContainer>\n                  <Text>{otherProj.frontmatter.title.length > 15 ? (otherProj.frontmatter.title.slice(0, 15) + \"…\") : otherProj.frontmatter.title}</Text>\n                  <Text>{otherProj.frontmatter.graduate}</Text>\n                </TextContainer>\n              </Link>\n            </ProjectContainer>\n          )) : (data.projectsInSecondCategory && data.projectsInSecondCategory.edges.map(({ node: otherProj }) =>\n              <ProjectContainer>\n                <Link to={otherProj.fields.slug}>\n\n                  <ImageContainer>\n                    <Img sizes={otherProj.frontmatter.image.childImageSharp.sizes} />\n                  </ImageContainer>\n\n                  <TextContainer>\n                    <Text>{otherProj.frontmatter.title.length > 15 ? (otherProj.frontmatter.title.slice(0, 15) + \"…\") : otherProj.frontmatter.title}</Text>\n                    <Text>{otherProj.frontmatter.graduate}</Text>\n                  </TextContainer>\n                </Link>\n              </ProjectContainer>\n          ))}\n        </RelatedProjects>\n      </BottomSection>\n\n\n    </Container>\n  );\n};\n\n\n// template query\nexport const aboutPageQuery = graphql`\n  query ProjectPage($slug: String!, $graduate: String!, $graduateName: String!, $category: String!, $category2: String!, $title: String!) {\n    markdownRemark(fields: { slug: { eq: $slug } }) {\n      headings {\n        value\n        depth\n      }\n      html\n      frontmatter {\n        title\n        graduate\n        category\n        category2\n        category3\n        image {\n          childImageSharp {\n            sizes(maxWidth: 1500, maxHeight: 1000, quality: 90, cropFocus: CENTER) {\n              ...GatsbyImageSharpSizes\n            }\n          }\n        }\n      }\n    }\n\n  projectsInCategory: allMarkdownRemark(\n    filter: { frontmatter: { category: { regex: $category }, graduate: { ne: $graduateName }}}) {\n      edges {\n        node {\n          fields {\n            slug\n          }\n          frontmatter {\n            title\n            graduate\n\n            image {\n              childImageSharp {\n                sizes(maxWidth: 600, maxHeight: 400, quality: 90, cropFocus: CENTER) {\n                  ...GatsbyImageSharpSizes\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n\n\n  projectsInSecondCategory: allMarkdownRemark(\n    filter: { frontmatter: { category: { regex: $category2 }, graduate: { ne: $graduateName }}}) {\n      edges {\n        node {\n          fields {\n            slug\n          }\n          frontmatter {\n            title\n            graduate\n\n            image {\n              childImageSharp {\n                sizes(maxWidth: 600, maxHeight: 400, quality: 90, cropFocus: CENTER) {\n                  ...GatsbyImageSharpSizes\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n\n  projectByStudent: allMarkdownRemark(\n    filter: { frontmatter: { graduate: { regex: $graduate }, title: { ne: $title }}}) {\n      edges {\n        node {\n          fields {\n            slug\n          }\n          frontmatter {\n            title\n            graduate\n\n            image {\n              childImageSharp {\n                sizes(maxWidth: 600, maxHeight: 400, quality: 90, cropFocus: CENTER) {\n                  ...GatsbyImageSharpSizes\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n\n  }\n`;\n"],"sourceRoot":""}